(function(){$.jQT=function(){function a(a){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;this.tapHandlers=this.tapHandlers.concat([{name:"external-link",isSupported:function(a,b){return q(b.$el)},fn:function(a,b){return b.$el.removeClass("active"),!0}},{name:"back-selector",isSupported:function(a){return function(b,c){return c.$el.is(a.settings.backSelector)}}(this),fn:function(a){return function(b,c){return a.goBack(c.hash),!1}}(this)},{name:"submit-selector",isSupported:function(a){return function(b,c){return c.$el.is(a.settings.submitSelector)}}(this),fn:function(a,b){x(b.$el)}},{name:"webapp",isSupported:function(a,b){return"_webapp"===b.target},fn:function(a,b){return window.location=b.href,!1}},{name:"no-op",isSupported:function(a,b){return"#"===b.href},fn:function(a,b){return b.$el.removeClass("active"),!0}},{name:"standard",isSupported:function(a,b){return b.hash&&"#"!==b.hash},fn:function(a){return function(b,c){var d;return d=m(c.$el),c.$el.addClass("active"),a.goTo($(c.hash).data("referrer",c.$el),d,c.$el.hasClass("reverse")),!1}}(this)},{name:"external",isSupported:function(){return!0},fn:function(a,b){var c;return c=m(b.$el),b.$el.addClass("loading active"),u(b.$el.attr("href"),{animation:c,callback:function(){return b.$el.removeClass("loading"),setTimeout(function(){return b.$el.removeClass("active")},250)},$referrer:b.$el}),!1}}]),this.goTo=function(a){return function(a,b){var c,d,g,h,i;if(d=f[0].page,"string"==typeof b)for(h=0,i=e.length;i>h;h++)if(c=e[h],c.name===b){b=c;break}if("string"==typeof a){if(g=$(a),!g.length)return void u(a,{animation:b});a=g}return l(d,a,b)?void 0:(console.warn("Could not animate pages."),!1)}}(this),this.goBack=function(a){return function(a){var b,c,d,e,g,h,i;if(f.length<1&&console.warn("History is empty."),1===f.length&&(console.warn("You are on the first panel."),window.history.go(-1)),"number"==typeof a)a>0?f.splice(1,a):0>a&&f.splice(1,f.length+a-1);else if(/^#.+/.test(a)){for(b=0,e=h=0,i=f.length;i>h;e=++h)if(d=f[e],d.hash===a){b=e;break}f.splice(1,b-1)}return c=f[0],g=f[1],null!=c&&null!=g?l(c.page,g.page,c.animation,!0)?void 0:(console.warn("Could not go back."),!1):void 0}}(this),this.history=f,o=function(a){return function(){var b,c,e,f,g,h;for(h=a.settings.preloadImages,f=0,g=h.length;g>f;f++)c=h[f],(new Image).src=a.settings.preloadImages[c];return b=[],e=a.settings.addGlossToIcon?"":"-precomposed",a.settings.icon&&b.push('<link rel="apple-touch-icon'+e+'" href="'+a.settings.icon+'">'),a.settings.icon4&&b.push('<link rel="apple-touch-icon'+e+'" sizes="114x114" href="'+a.settings.icon4+'">'),a.settings.startupScreen&&b.push('<link rel="apple-touch-startup-image" href="'+a.settings.startupScreen+'">'),a.settings.fixedViewport&&b.push('<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0">'),a.settings.fullScreen&&(b.push('<meta name="apple-mobile-web-app-capable" content="yes" />'),a.settings.statusBar&&b.push('<meta name="apple-mobile-web-app-status-bar-style" content="'+a.settings.statusBar+'">')),b.length?d.prepend(b.join("")):void 0}}(this),p=function(a){return function(c,d){var e;return e=null,$(c).each(function(){var a;return a=$(this),a.attr("id")||a.attr("id","page-"+ ++g),$("#"+a.attr("id")).remove(),b.append(a),b.trigger("pageInserted",{page:a}),a.hasClass("current")||!e?e=a:void 0}),null==e?!1:void a.goTo(e,d)}}(this),j=function(a,b){var c;return c=a.attr("id"),f.unshift({page:a,animation:b,hash:"#"+c,id:c})},k=function(){return function(a){var b;b=$(a.target),b.is(i.join(", "))||(b=b.closest(i.join(", "))),b&&b.attr("href")&&!q(b)?(console.warn("Need to prevent default click behavior."),a.preventDefault()):console.warn("No need to prevent default click behavior."),y.touch||(console.warn("Converting click event to a tap event because touch handlers are not present or off."),$(a.target).trigger("tap",a))}}(this),n=function(a){return function(){return location.hash===f[0].hash?(console.log("We are on the right panel."),!0):""===location.hash?(a.goBack(),!0):f[1]&&location.hash===f[1].hash?(a.goBack(),!0):(console.warn("Could not find ID in history, just forwarding to DOM element."),void a.goTo($(location.hash),a.settings.defaultAnimation))}}(this),q=function(a){return"_blank"===a.attr("target")||"external"===a.attr("rel")||a.is('a[href^="http://maps.google.com"], a[href^="mailto:"], a[href^="tel:"], a[href^="javascript:"], a[href*="youtube.com/v"], a[href*="youtube.com/watch"]')},m=function(a){return function(b){var c,d,f,g;for(f=0,g=e.length;g>f;f++)if(c=e[f],b.is(c.selector)){d=c;break}return d||(console.warn("Animation could not be found. Using "+a.settings.defaultAnimation+"."),d=a.settings.defaultAnimation),d}}(this),u=function(a){return function(b,c){return c=$.extend({},{data:null,method:"GET",animation:null,$referrer:null},c),"#"!==b.charAt(0)?$.ajax({url:b,data:c.data,type:c.method,success:function(b){var d;return d=p(b,c.animation),d&&"GET"===c.method&&a.settings.cacheGetRequests===!0&&c.$referrer?c.$referrer.attr("href","#"+d.attr("id")):void 0},error:function(){return c.$referrer?c.$referrer.removeClass("active"):void 0}}):c.$referrer?c.$referrer.removeClass("active"):void 0}}(this),y=void 0,v=function(a){return function(){var e,f,g,h,l,m,o;for(y=$.support||{},$.extend(y,{animationEvents:"undefined"!=typeof window.WebKitAnimationEvent,touch:"undefined"!=typeof window.TouchEvent&&window.navigator.userAgent.indexOf("Mobile")>-1&&a.settings.useFastTouch,transform3d:function(){var a,b,c,e,f;return c=d.get(0),a=document.body,f=document.createElement("style"),f.textContent="@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-webkit-transform-3d){#jqt-3dtest{height:3px}}",b=document.createElement("div"),b.id="jqt-3dtest",c.appendChild(f),a.appendChild(b),e=3===b.offsetHeight,f.parentNode.removeChild(f),b.parentNode.removeChild(b),console.warn("Support for 3d transforms: "+e+"."),e}}),y.touch||console.warn("This device does not support touch interaction, or it has been deactivated by the developer. Some features might be unavailable."),y.transform3d||console.warn("This device does not support 3d animation. 2d animations will be used instead."),o=a.extensions,l=0,m=o.length;m>l;l++)g=o[l],$.isFunction(g)&&$.extend(a,g(a));return i.push(a.settings.touchSelector.concat(a.settings.backSelector,a.settings.submitSelector)),e=$(i.join(", ")).css("-webkit-touch-callout","none"),b=$("#jqt"),f=[],b.length||(console.warn('Could not find an element with the id “jqt”, so the body id has been set to "jqt". If you are having any problems, wrapping your panels in a div with the id “jqt” might help.'),b=$(document.body).attr("id","jqt")),y.transform3d&&f.push("supports3d"),f.push(a.settings.useTouchScroll?"touchscroll":"autoscroll"),a.settings.fullScreenClass&&window.navigator.standalone&&f.push(a.settings.fullScreenClass,a.settings.statusBar),b.addClass(f.join(" ")).bind("click",k).bind("orientationchange",r).bind("submit",w).bind("tap",z).bind(y.touch?"touchstart":"mousedown",A).trigger("orientationchange"),a.settings.updateHash&&$(window).bind("hashchange",n),h=location.hash,c=$("#jqt > .current").length?$("#jqt > .current"):$("#jqt > *:first-child").addClass("current"),t(c.attr("id")),j(c),a.settings.updateHash&&$(h).length?a.goTo(h):void 0}}(this),r=function(){var a;return scrollTo(0,0),a=90===Math.abs(window.orientation)?"landscape":"portrait",b.removeClass("portrait landscape").addClass(a).trigger("turn",{orientation:a})},s=function(a){var b;return b={up:"down",down:"up",left:"right",right:"left","in":"out",out:"in"},b[a]||a},t=function(a){return function(b){return a.settings.updateHash?location.hash="#"+b.replace(/^#/,""):void 0}}(this),w=function(a){return function(b,c){var d;return $(":focus").trigger("blur"),d="string"==typeof b?$(b).eq(0):$(b.target?b.target:b),d.length&&d.is(a.settings.formSelector)&&d.attr("action")?(b.preventDefault(),u(d.attr("action"),{data:d.serialize(),method:d.attr("method")||"POST",animation:m(d),callback:c})):void 0}}(this),x=function(a){var b;return b=a.closest("form"),b.length?(console.warn("About to submit parent form."),b.trigger("submit"),!1):(console.warn("No parent form found."),!0)},z=function(a){return function(b){var c,d,e,f,g,h,j,k,l,m,n;if(b.isDefaultPrevented())return!0;if(c=$(b.target),j=i.join(","),c.is(j)||(c=c.closest(j)),!c.length||!c.attr("href"))return console.warn("Could not find a link related to tapped element."),!0;for(k=c.attr("target"),f=c.prop("hash"),g=c.attr("href"),h={e:b,$el:c,target:k,hash:f,href:g},n=a.tapHandlers,l=0,m=n.length;m>l;l++)if(e=n[l],e.isSupported(b,h))return d=e.fn(b,h)}}(this),A=function(a){var b,c;return b=$(a.target),c=i.join(", "),b.is(c)||(b=b.closest(c)),b.length&&b.attr("href")&&b.addClass("active"),b.on(y.touch?"touchmove":"mousemove",function(){return b.removeClass("active")}),b.on("touchend",function(){return b.unbind("touchmove mousemove")})},l=function(a){return function(d,e,g,i){var k,l,m;return null==i&&(i=!1),m=function(){return y.animationEvents&&g&&a.settings.useAnimations?(d.unbind("webkitAnimationEnd",m),d.removeClass(k+" out"),k&&e.removeClass(k),b.removeClass("animating animating3d")):(d.removeClass(k+" out"),k&&e.removeClass(k)),setTimeout(function(){return e.removeClass("in"),window.scroll(0,0)},h),d.find(".active").removeClass("active"),e.trigger("pageAnimationEnd",{direction:"in",animation:g,back:i}),d.trigger("pageAnimationEnd",{direction:"out",animation:g,back:i})},e.length?e.hasClass("current")?($(".active").removeClass("active"),console.warn("You are already on the page you are trying to navigate to."),!1):($(":focus").trigger("blur"),d.trigger("pageAnimationStart",{direction:"out",back:i}),e.trigger("pageAnimationStart",{direction:"in",back:i}),y.animationEvents&&g&&a.settings.useAnimations?(k=g.name,l=g.is3d?" animating3d":"",!y.transform3d&&g.is3d&&(console.warn("Did not detect support for 3d animations, falling back to "+a.settings.defaultAnimation+"."),k=a.settings.defaultAnimation,l=""),i&&(k=k.replace(/left|right|up|down|in|out/,s)),null==k&&(k=a.settings.defaultAnimation),console.warn("finalAnimationName:",k),d.bind("webkitAnimationEnd",m),b.addClass("animating"+l),e.addClass(k+" in current"),d.removeClass("current").addClass(k+" out")):(e.addClass("current in"),d.removeClass("current"),m()),c=e,i?f.shift():j(c,g),t(c.attr("id")),!0):($(".active").removeClass("active"),console.warn("Target element is missing."),!1)}}(this),this.settings=$.extend({},this.defaults,a),o(),this.settings.starter(v)}var b,c,d,e,f,g,h,i;return a.prototype.extensions=[],a.prototype.animations=[{name:"cubeleft",selector:".cubeleft, .cube",is3d:!0},{name:"cuberight",selector:".cuberight",is3d:!0},{name:"dissolve",selector:".dissolve"},{name:"fade",selector:".fade"},{name:"flipleft",selector:".flipleft, .flip",is3d:!0},{name:"flipright",selector:".flipright",is3d:!0},{name:"pop",selector:".pop",is3d:!0},{name:"swapleft",selector:".swapleft, .swap",is3d:!0},{name:"swapright",selector:".swapright",is3d:!0},{name:"slidedown",selector:".slidedown"},{name:"slideright",selector:".slideright"},{name:"slideup",selector:".slideup"},{name:"slideleft",selector:".slideleft, .slide, #jqt > * > ul li a"}],a.prototype.orientation="portrait",a.prototype.tapHandlers=[],a.prototype.defaults={addGlossToIcon:!0,backSelector:".back, .cancel, .goback",cacheGetRequests:!0,defaultAnimation:"slideleft",fixedViewport:!0,formSelector:"form",fullScreen:!0,fullScreenClass:"fullscreen",icon:null,icon4:null,preloadImages:!1,starter:$(document).ready,startupScreen:null,statusBar:"default",submitSelector:".submit",touchSelector:"a, .touch",updateHash:!0,useAnimations:!0,useFastTouch:!0,useTouchScroll:!0},a.addExtension=function(a){return this.prototype.extensions.push(a)},a.addTapHandler=function(a){return"string"==typeof a.name&&"function"==typeof a.isSupported&&"function"==typeof a.fn?this.prototype.tapHandlers.push(a):void 0},a.addAnimation=function(a){return"string"==typeof a.selector&&"string"==typeof a.name?this.animations.push(a):void 0},b=void 0,d=$("head"),e=a.prototype.animations,f=[],g=0,c="",i=[],h=100,a}(),$.jQTouch=$.jQT}).call(this);